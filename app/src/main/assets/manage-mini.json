[
  {
    "title": "编辑规则",
    "url": "hiker://empty",
    "rule": "js:\nlet d = [];\naddListener(\"onClose\", $.toString(() => {\n    clearMyVar(\"title\");\n    clearMyVar(\"url\");\n    clearMyVar(\"interceptor\");\n    clearMyVar(\"rule\");\n    clearMyVar(\"ua\");\n    clearMyVar(\"pages\");\n    clearMyVar(\"col_type\");\n    clearMyVar(\"nextRule\");\n    clearMyVar(\"nextColType\");\n}));\nd.push({\n    title: '',\n    desc: \"标题title\",\n    col_type: 'input',\n    extra: {\n        onChange: \"putMyVar('title',input)\",\n        titleVisible: false,\n        textSize: 13,\n        type: \"textarea\",\n        height: -1,\n        defaultValue: getMyVar('title', ''),\n    },\n})\nd.push({\n    title: '',\n    desc: \"链接url\",\n    col_type: 'input',\n    extra: {\n        onChange: \"putMyVar('url',input)\",\n        titleVisible: false,\n        textSize: 13,\n        type: \"textarea\",\n        height: -1,\n        defaultValue: getMyVar('url', ''),\n    },\n})\n\nd.push({\n    title: '',\n    desc: \"拦截器interceptor\",\n    col_type: 'input',\n    extra: {\n        onChange: \"putMyVar('interceptor',input)\",\n        titleVisible: false,\n        textSize: 13,\n        type: \"textarea\",\n        height: -1,\n        defaultValue: getMyVar('interceptor', ''),\n    },\n})\nd.push({\n    title: '',\n    desc: \"显示样式col_type\",\n    col_type: 'input',\n    extra: {\n        onChange: \"putMyVar('col_type',input)\",\n        titleVisible: false,\n        textSize: 13,\n        type: \"textarea\",\n        height: -1,\n        defaultValue: getMyVar('col_type', \"movie_3\"),\n    },\n})\nd.push({\n    title: '',\n    desc: \"规则rule\",\n    col_type: 'input',\n    extra: {\n        onChange: \"putMyVar('rule',input)\",\n        titleVisible: false,\n        textSize: 13,\n        type: \"textarea\",\n        height: -1,\n        defaultValue: getMyVar('rule', ''),\n    },\n})\nd.push({\n    title: '',\n    desc: \"UA标识，mobile/pc/自定义\",\n    col_type: 'input',\n    extra: {\n        onChange: \"putMyVar('ua',input)\",\n        titleVisible: false,\n        textSize: 13,\n        type: \"textarea\",\n        height: -1,\n        defaultValue: getMyVar('ua', \"mobile\"),\n    },\n})\nd.push({\n    title: '',\n    desc: \"子页面pages，数组字符串\",\n    col_type: 'input',\n    extra: {\n        onChange: \"putMyVar('pages',input)\",\n        titleVisible: false,\n        textSize: 13,\n        type: \"textarea\",\n        height: -1,\n        defaultValue: getMyVar('pages', \"\"),\n    },\n})\nd.push({\n    title: '',\n    desc: \"详情页规则nextRule\",\n    col_type: 'input',\n    extra: {\n        onChange: \"putMyVar('nextRule',input)\",\n        titleVisible: false,\n        textSize: 13,\n        type: \"textarea\",\n        height: -1,\n        defaultValue: getMyVar('nextRule', ''),\n    },\n})\nd.push({\n    title: '',\n    desc: \"详情页显示样式nextColType\",\n    col_type: 'input',\n    extra: {\n        onChange: \"putMyVar('nextColType',input)\",\n        titleVisible: false,\n        textSize: 13,\n        type: \"textarea\",\n        height: -1,\n        defaultValue: getMyVar('nextColType', \"\"),\n    },\n})\nd.push({\n    title: '保存规则',\n    col_type: 'text_center_1',\n    url: $('#noLoading#').lazyRule(() => {\n        let title = getMyVar('title', '');\n        if (!title || title.length < 1) {\n            return \"toast://名称不能为空\";\n        }\n        let url = getMyVar('url', '');\n        let interceptor = getMyVar('interceptor', '');\n        let rule = getMyVar('rule', '');\n        let ua = getMyVar('ua', 'mobile');\n        let pages = getMyVar('pages', '');\n        let col_type = getMyVar('col_type', '');\n        let nextColType = getMyVar('nextColType', '');\n        let nextRule = getMyVar('nextRule', '');\n        let r = {\n            title: title,\n            url: url,\n            interceptor: interceptor,\n            rule: rule,\n            ua: ua,\n            pages: pages,\n            col_type: col_type,\n            nextRule: nextRule,\n            nextColType: nextColType\n        }\n        let rules = request(\"hiker://files/mini-program.json\");\n        if (rules && rules.length) {\n            rules = JSON.parse(rules);\n            let has = false;\n            for (let i in rules) {\n                if (rules[i].title == r.title) {\n                    rules[i] = r;\n                    has = true;\n                    break;\n                }\n            }\n            if (!has) {\n                rules.push(r);\n            }\n        } else {\n            rules = [];\n            rules.push(r);\n        }\n        writeFile(\"hiker://files/mini-program.json\", JSON.stringify(rules));\n        if (typeof reloadRules != \"undefined\") {\n            reloadRules();\n        }\n        return \"toast://已保存到本地\";\n    })\n});\nsetResult(d);",
    "interceptor": "",
    "ua": "mobile",
    "pages": "[]",
    "col_type": "movie_3"
  }
]